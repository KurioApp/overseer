#
# Comments are OK and are prefixed with a leading '#'.
#

#
# My website is at https://steve.fi/, there are redirections
# in place for HTTP and for www-prefixed access.
#
# Test that the HTTP versions redirect to the secure version.
#
http://steve.fi/ must run http  with status 301 with content 'https://steve.fi'
http://www.steve.fi/ must run http  with status 302 with content 'https://steve.fi'

#
# We don't like www. round here
#
https://www.steve.fi/ must run http with status 302 with content 'https://steve.fi'

#
# So the final test is that we have decent content.
#
https://steve.fi/ must run http  with status 200 with content 'Steve Kemp'


#
# Now we should do more testing!
#
# Test any OpenSSH probe against localhost, on the non-standard port 2222.
#
localhost must run ssh on port 2222

#
# If you didn't want to use a non-standard port you'd just write:
#
#    localhost must run ssh
#

#
# Redis should run on localhost.
#
localhost must run redis

#
# If a password is required to connect to redis then set it like so:
#
#    localhost must run redis with password 'secrit!'
#
# If a non-standard port is used:
#
#    localhost must run redis on port 1234
#
# Of course these can be combined:
#
#    localhost must run redis on port 1234 with password 'p4ssw0rd'
#

#
# Now we can test that we get a response from a remote SMTP server
#
mail.steve.org.uk must run smtp
mail.steve.org.uk must run smtp on 587


#
# Macros allow you to cut down on duplication if you want to run the
# same test against a group of hosts
#
REDIS are 127.0.0.1, ::1
REDIS must run redis

#
# Similarly you might wish to test SSH against a whole bunch of related
# hosts, so you might try this:
#
#   SSH_HOSTS are host1.example.com, host2.example.com, host3.example.com
#   SSH_HOSTS must run ssh
#
# All of the protocol-tests allow this expansion __EXCEPT__ for the http-test.
#


#
# This concludes our testing.
#
